<!DOCTYPE html>
<html>

<head>
  <script type='text/javascript' src="bower_components/jquery/dist/jquery.min.js"></script>
  <script type='text/javascript' src='bower_components/knockout/dist/knockout.js'></script>
  <script type='text/javascript' src='bower_components/bootstrap/dist/js/bootstrap.js'></script>
  <script type='text/javascript' src='bower_components/bootstrap/dist/js/bootstrap.js'></script>
  <script type='text/javascript' src="bower_components/slideout.js/dist/slideout.min.js"></script>
  <script type='text/javascript' src="bower_components/oauth-signature/dist/oauth-signature.js"></script>
  <script type='text/javascript' src="bower_components/urijs/src/URI.js"></script>
  <script type='text/javascript' src="bower_components/crypto-js/crypto-js.js"></script>
  <link type='text/css' rel='stylesheet' href='styles/styles.css' />
</head>

<body>
  <!--slide out panel with options -->
  <nav id="menu" class='slideout-menu slideout'>
    <header>
      <h2>Options</h2>
    </header>

    <div class='center-map'> Map Center
      </br>
      <form data-bind='submit: changeCenter'>
        <table>
          <tr>
            <span>LAT: <input name='lat' data-bind='value: center().lat'/></span></br>
          </tr>
          <tr>
            <span data-bind: 'text: status'>LNG: <input name='lng' data-bind='value:center().lng' /></span>
          </tr>
          <tr>
            <button type="submit">Change Map Center</button>
          </tr>
        </table>
      </form>
    </div>

    <div class='filters'>
      <form data-bind='submit: changeFilter'>
        <select name='loc_type' data-bind='options: loc_types'></select>
        Within
        <select name='mileage' data-bind='options: mileage'></select> of Miles of Town
        <button type='submit'>Change Filter</button>
      </form>
    </div>

    <div class='locations'>
      <table>
        <th>
          Type
        </th>
        <th>Name</th>
        <th>Location</th>
        <th>Description</th>
        <tbody data-bind='foreach: locations'>
          <tr>
            <td data-bind='text: $data.loc_type'></td>
            <td data-bind='text: $data.name'></td>
            <td data-bind='text: $data.location'></td>
            <td data-bind='text: $data.desc'></td>
            <td>
             <button data-bind='click: $parent.addTrip.bind($parent)'>Add to Trip</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </nav>

  <main id='panel'>

    <button id='slideout' class='btn btn-info btn-small'><span class="menu-hamburger">&#9776;</span></button>

    <!-- <div class='navbar'>
      <div class='navbar-brand'>
            Dacks Climber
      </div>
    </div> -->
    <p data-bind='text: status'></p>
    <div data-bind="template: {name: 'location-row', foreach: $root.locations}">
    </div>

    <div class='trip-plan'>
      Add Locations to Your t
      <table>
        <th>
          Type
        </th>
        <th>Name</th>
        <th>Location</th>
        <th>Description</th>
        <tbody data-bind= "template: {name: 'location-row', foreach: $root.trip}">
        </tbody>
      </table>
    </div>

    <div id='map'>Map Loading</div>
    <div data-bind="foreach: locations">
      <p data-bind='text: name'></p>
    </div>
  </main>

<div id='infowindow-template' data-bind='with: locations'>
  <tr>
    <td data-bind='text: $data'></td>
    <td data-bind='text: $parent'></td>
    <td data-bind='text: $data.desc'></td>
    <td>
      <button data-bind='click: function(){alert(\'hello\')}'>Remove from Trip</button>
    </td>
    <td>
      Hello World!
    </td>
  </tr>
</div>

<!-- KO template -->
<script type='text/html' id='location-row'>
  <tr>
    <td data-bind='text: $data.loc_type'></td>
    <td data-bind='text: $data.loc_name'></td>
    <td data-bind='text: $data.desc'></td>
    <td>
      <button data-bind='click: $parent.removeTrip.bind($parent)'>Remove from Trip</button>
    </td>
  </tr>
</script>

<script type='text/html' id='infowindow-template'>
  <p>
    Hello world
  </p>
</script>

  <script type='text/javascript' src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7QeUbl2kO7TPllayriD04AkBdkoqBTWw"></script>
  <script type='text/javascript' src='app/models.js'></script>
  <script type='text/javascript' src="app/view_model.js"></script>
  <script type='text/javascript' src="app/yelp_api.js"></script>
  <script type='text/javascript' src='app/main.js'></script>
  <script type='text/javascript' src="app/animations.js"></script>
</body>

</html>
